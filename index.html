
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>SpangeBob</title>
    <style>
      /* Убираем выделения и запрещаем копирование */
      * {
        user-select: none; /* Запрет выделения текста */
        -webkit-tap-highlight-color: transparent; /* Убираем подсветку при касании на мобильных */
        -webkit-user-select: none; /* Запрет выделения для Safari */
        -moz-user-select: none; /* Запрет выделения для Firefox */
        -ms-user-select: none; /* Запрет выделения для IE/Edge */
      }

      /* Запрет контекстного меню */
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: url("fon.png") no-repeat center center fixed;
        background-size: cover;
        font-family: Arial, sans-serif;
        overflow: hidden;
      }

      /* Полупрозрачная панель сверху */
      .panel {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.6); /* Полупрозрачный черный */
        padding: 10px 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .panel h1 {
        margin: 0;
        color: #ffeb3b; /* Желтый неоновый текст */
        font-size: 24px; /* Уменьшенный размер текста для мобильных */
        text-shadow: 0 0 10px #ffeb3b, 0 0 20px #ffeb3b, 0 0 40px #ffeb3b;
        font-family: "Arial", sans-serif;
        font-weight: bold;
        text-transform: uppercase;
        text-align: center; /* Выравниваем текст по центру */
      }

      /* Кнопка с иконкой rew.png */
      .rew-button {
        position: fixed;
        top: 70px; /* Чуть ниже верхней панели */
        left: 10px; /* Слева */
        background: none; /* Без фона */
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 1000;
      }

      .rew-button img {
        width: 40px; /* Размер иконки */
        height: 40px;
        transition: transform 0.3s ease; /* Анимация при наведении */
      }

      .rew-button:hover img {
        transform: scale(1.1); /* Увеличение при наведении */
      }

      /* Панель с энергией (справа вверху) */
      .energy-panel {
        position: fixed;
        right: 10px; /* Смещаем вправо */
        top: 70px; /* Опускаем ниже */
        background: rgba(0, 0, 0, 0.6); /* Полупрозрачный черный */
        padding: 10px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 5px;
        z-index: 1000;
      }

      .energy-panel img {
        width: 30px; /* Уменьшенный размер изображения */
        height: 30px;
        border-radius: 50%;
        object-fit: cover;
        transition: transform 0.2s ease; /* Анимация для изображения */
      }

      .energy-panel span {
        color: white;
        font-size: 18px; /* Уменьшенный размер текста */
        font-weight: bold;
      }

      /* Панель с деньгами (справа вверху, но ниже) */
      .money-panel {
        position: fixed;
        right: 10px; /* Смещаем вправо */
        top: 130px; /* Опускаем ниже */
        background: rgba(0, 0, 0, 0.6); /* Полупрозрачный черный */
        padding: 10px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 5px;
        z-index: 1000;
      }

      .money-panel img {
        width: 30px; /* Уменьшенный размер изображения */
        height: 30px;
        border-radius: 50%;
        object-fit: cover;
        transition: transform 0.2s ease; /* Анимация для изображения */
      }

      .money-panel span {
        color: white;
        font-size: 18px; /* Уменьшенный размер текста */
        font-weight: bold;
      }

      /* Панель с уровнем (справа внизу, выше нижней панели) */
      .level-panel {
        position: fixed;
        right: 10px; /* Смещаем вправо */
        bottom: 80px; /* Выше нижней панели */
        background: rgba(0, 0, 0, 0.6); /* Полупрозрачный черный */
        padding: 10px;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
        z-index: 1000;
      }

      .level-panel span {
        color: white;
        font-size: 18px; /* Уменьшенный размер текста */
        font-weight: bold;
      }

      .level-progress {
        width: 150px; /* Ширина прогресс-бара */
        height: 10px; /* Высота прогресс-бара */
        background: rgba(255, 255, 255, 0.3); /* Полупрозрачный фон */
        border-radius: 5px; /* Закругленные углы */
        overflow: hidden;
      }

      .level-progress-bar {
        height: 100%;
        background: #ffeb3b; /* Желтый цвет */
        width: 0%; /* Начальная ширина */
        transition: width 0.3s ease; /* Плавное изменение */
      }

      /* Круглая фотка дома Спанч Боба */
      .spongebob-house {
        width: 200px; /* Уменьшенный размер круга для мобильных */
        height: 200px;
        border-radius: 50%; /* Делаем круг */
        background: #ffeb3b; /* Желтый неоновый фон */
        box-shadow: 0 0 20px #ffeb3b, 0 0 40px #ffeb3b, 0 0 60px #ffeb3b; /* Неоновый эффект */
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        border: none; /* Убираем обводку */
      }

      /* Фотка внутри круга */
      .spongebob-house img {
        width: 80%; /* Уменьшили фотку */
        height: 80%;
        border-radius: 50%;
        object-fit: cover;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        pointer-events: none; /* Запрет перетаскивания */
      }

      /* Анимация при клике */
      .spongebob-house:active {
        transform: scale(0.95); /* Уменьшаем при клике */
        box-shadow: 0 0 10px #ffeb3b, 0 0 20px #ffeb3b, 0 0 30px #ffeb3b; /* Меньше свечения */
      }

      /* Стили для рандомных фоток */
      .crasty {
        position: absolute;
        width: 30px; /* Уменьшенный размер */
        height: 30px;
        border-radius: 50%;
        object-fit: cover;
        image-rendering: crisp-edges; /* Четкие фотки */
        animation: appear 1s ease-out forwards;
      }

      /* Анимация появления */
      @keyframes appear {
        0% {
          opacity: 0;
          transform: scale(0);
        }
        50% {
          opacity: 1;
          transform: scale(1);
        }
        100% {
          opacity: 0;
          transform: scale(0);
        }
      }

      /* Стили для текста +1 или +5 */
      .money-text {
        position: absolute;
        color: white;
        font-size: 18px; /* Уменьшенный размер текста */
        font-weight: bold;
        animation: floatUp 1s ease-out forwards;
      }

      /* Анимация текста +1 или +5 */
      @keyframes floatUp {
        0% {
          opacity: 1;
          transform: translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateY(-50px);
        }
      }

      /* Нижняя панель с кнопками */
      .bottom-panel {
        position: fixed;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px;
        z-index: 1000;
      }

      .bottom-panel button {
        width: 50px; /* Квадратные кнопки */
        height: 50px;
        padding: 0;
        font-size: 0; /* Убираем текст */
        background: rgba(0, 0, 0, 0.6); /* Полупрозрачный черный */
        border: none;
        border-radius: 15px; /* Закругленные углы */
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .bottom-panel button:hover {
        background: rgba(0, 0, 0, 0.8); /* Темнее при наведении */
      }

      /* Нижняя панель с эффектом океана */
      .ocean-panel {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 60px; /* Высота панели */
        background: linear-gradient(
          to top,
          rgba(30, 144, 255, 0.6),
          rgba(0, 191, 255, 0.6)
        ); /* Полупрозрачный градиент океана */
        z-index: 999;
        overflow: hidden;
      }

      /* Волны */
      .wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 200%;
        height: 100%;
        background: url("wave.png") repeat-x; /* Изображение волны */
        animation: wave-animation 10s linear infinite;
      }

      @keyframes wave-animation {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }

      /* Кастомное уведомление */
      .notification {
        position: fixed;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 0, 0, 0.8); /* Красный фон */
        color: white;
        padding: 10px 20px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: bold;
        animation: slideIn 0.5s ease-out forwards;
        z-index: 2000;
      }

      /* Анимация появления уведомления */
      @keyframes slideIn {
        0% {
          opacity: 0;
          transform: translateX(100%) translateY(-50%);
        }
        100% {
          opacity: 1;
          transform: translateX(0) translateY(-50%);
        }
      }
    </style>
  </head>
  <body oncontextmenu="return false;">
    <!-- Полупрозрачная панель сверху -->
    <div class="panel">
      <h1>Spange Bob</h1> <!-- Изменено на "Spange" -->
    </div>

    <!-- Кнопка с иконкой rew.png -->
    <button class="rew-button">
      <img src="rew.png" alt="Rew" />
    </button>

    <!-- Панель с энергией (справа вверху) -->
    <div class="energy-panel">
      <img src="energy.png" alt="Energy" id="energy-img" />
      <span id="energy">500/500</span>
    </div>

    <!-- Панель с деньгами (справа вверху, но ниже) -->
    <div class="money-panel">
      <img src="crasty.png" alt="Crasty" id="crasty-img" />
      <span id="money">0</span>
    </div>

    <!-- Панель с уровнем (справа внизу, выше нижней панели) -->
    <div class="level-panel">
      <span id="level">Ур. 1</span>
      <div class="level-progress">
        <div class="level-progress-bar" id="level-progress-bar"></div>
      </div>
    </div>

    <!-- Круглая фотка дома Спанч Боба -->
    <div class="spongebob-house">
      <img src="sp.png" alt="Дом Спанч Боба" />
    </div>

    <!-- Нижняя панель с кнопками -->
    <div class="bottom-panel">
      <button></button>
      <button></button>
      <button></button>
    </div>

    <!-- Нижняя панель с эффектом океана -->
    <div class="ocean-panel">
      <div class="wave"></div>
    </div>

    <!-- Аудио для основной страницы -->
    <audio id="main-audio" autoplay loop style="display: none" volume="0.3">
      <source src="sdd.mp3" type="audio/mpeg" />
      <source src="sdd.ogg" type="audio/ogg" />
      Ваш браузер не поддерживает аудио.
    </audio>

    <script>
      // Переменные
      let money = parseInt(localStorage.getItem("money")) || 0; // Загружаем сохраненные деньги
      let energy = parseInt(localStorage.getItem("energy")) || 500; // Загружаем сохраненную энергию
      let level = parseInt(localStorage.getItem("level")) || 1; // Загружаем сохраненный уровень
      let experience = parseInt(localStorage.getItem("experience")) || 0; // Загружаем сохраненный опыт
      const experienceToNextLevel = 100 + level * 50; // Опыт для следующего уровня увеличивается с уровнем
      let lastUpdateTime = parseInt(localStorage.getItem("lastUpdateTime")) || Date.now(); // Время последнего обновления энергии

      const energyElement = document.getElementById("energy");
      const moneyElement = document.getElementById("money");
      const levelElement = document.getElementById("level");
      const levelProgressBar = document.getElementById("level-progress-bar");
      const crastyImg = document.getElementById("crasty-img");
      const energyImg = document.getElementById("energy-img");
      const circle = document.querySelector(".spongebob-house");
      const mainAudio = document.getElementById("main-audio");

      // Восстановление энергии при загрузке страницы
      const currentTime = Date.now();
      const timeDiff = Math.floor((currentTime - lastUpdateTime) / 1000); // Разница в секундах
      energy = Math.min(500, energy + timeDiff); // Восстанавливаем энергию
      localStorage.setItem("energy", energy);
      localStorage.setItem("lastUpdateTime", currentTime);

      // Обновляем счетчики при загрузке страницы
      energyElement.textContent = `${energy}/500`;
      moneyElement.textContent = money;
      levelElement.textContent = `Ур. ${level}`;
      updateProgressBar();

      // Восстанавливаем энергию каждую секунду
      setInterval(() => {
        if (energy < 500) {
          energy += 1;
          energyElement.textContent = `${energy}/500`;
          localStorage.setItem("energy", energy);
          localStorage.setItem("lastUpdateTime", Date.now());
        }
      }, 1000);

      // Функция для создания одной фотки
      function createCrasty(amount) {
        const crasty = document.createElement("img");
        crasty.src = "crasty.png"; // Путь к фотке
        crasty.classList.add("crasty");

        // Рандомная позиция рядом с кругом или на нем
        const angle = Math.random() * 2 * Math.PI;
        const distance = Math.random() * 100; // Уменьшенное расстояние для мобильных
        const x = Math.cos(angle) * distance;
        const y = Math.sin(angle) * distance;

        crasty.style.left = `${x + window.innerWidth / 2}px`;
        crasty.style.top = `${y + window.innerHeight / 2}px`;

        document.body.appendChild(crasty);

        // Удаляем фотку через 1 секунду
        setTimeout(() => crasty.remove(), 1000);

        // Создаем текст +1 или +5
        const moneyText = document.createElement("div");
        moneyText.classList.add("money-text");
        moneyText.textContent = `+${amount}`;
        moneyText.style.left = `${x + window.innerWidth / 2}px`;
        moneyText.style.top = `${y + window.innerHeight / 2}px`;

        document.body.appendChild(moneyText);

        // Удаляем текст через 1 секунду
        setTimeout(() => moneyText.remove(), 1000);
      }

      // Функция для показа уведомления
      function showNotification(message) {
        const notification = document.createElement("div");
        notification.classList.add("notification");
        notification.textContent = message;
        document.body.appendChild(notification);

        // Удаляем уведомление через 2 секунды
        setTimeout(() => notification.remove(), 2000);
      }

      // Функция для обновления прогресс-бара
      function updateProgressBar() {
        const progress = (experience / experienceToNextLevel) * 100;
        levelProgressBar.style.width = `${progress}%`;
      }

      // Обработчик клика на круг
      circle.addEventListener("click", () => {
        if (energy < 4) {
          showNotification("Недостаточно энергии!");
          return;
        }

        energy -= 4; // Уменьшаем энергию на 4
        energyElement.textContent = `${energy}/500`;
        localStorage.setItem("energy", energy);

        const random = Math.random(); // Случайное число от 0 до 1
        const amount = random < 0.1 ? 5 : 1; // 10% шанс получить +5, иначе +1
        money += amount; // Увеличиваем счетчик денег
        moneyElement.textContent = money; // Обновляем счетчик
        localStorage.setItem("money", money); // Сохраняем деньги

        // Добавляем опыт (чем выше уровень, тем меньше опыта)
        experience += Math.max(1, Math.floor(amount / level));
        if (experience >= experienceToNextLevel) {
          level += 1;
          experience = 0;
          levelElement.textContent = `Ур. ${level}`;
          localStorage.setItem("level", level); // Сохраняем уровень
        }
        localStorage.setItem("experience", experience); // Сохраняем опыт
        updateProgressBar();

        // Анимация подпрыгивания для изображения
        crastyImg.style.animation = "jump 0.3s ease";
        setTimeout(() => (crastyImg.style.animation = ""), 300); // Сбрасываем анимацию

        createCrasty(amount); // Создаем одну фотку при каждом клике
      });

      // Автовоспроизведение музыки
      document.addEventListener("click", () => {
        mainAudio.play();
      });

      // Запрет масштабирования при двойном клике
      circle.addEventListener("dblclick", (e) => {
        e.preventDefault();
      });
    </script>
  </body>
</html>
